From 538d74209b03f2c839fa9fbc24998ed728ab4699 Mon Sep 17 00:00:00 2001
From: Sebastian Rettig <serettig@posteo.de>
Date: Fri, 22 Feb 2019 15:27:35 +0100
Subject: [PATCH 1/2] Strip leading and trailing . from language code (backport
 of 951c5c1028885e264af3806969dbaca1de3d153c)

---
 weblate/lang/models.py | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/weblate/lang/models.py b/weblate/lang/models.py
index 285c507e9b..8cca051c89 100644
--- a/weblate/lang/models.py
+++ b/weblate/lang/models.py
@@ -139,6 +139,9 @@ class LanguageQuerySet(models.QuerySet):
 
         # Remove some unwanted chars
         code = code.replace(' ', '').replace('(', '').replace(')', '')
+        
+        # Strip leading and trailing .
+        code = code.strip('.')
 
         return code
 
-- 
2.19.1


From 3440a14d0a32f209eb343cf4f4cd72a18af8c337 Mon Sep 17 00:00:00 2001
From: Sebastian Rettig <serettig@posteo.de>
Date: Fri, 22 Feb 2019 15:29:21 +0100
Subject: [PATCH 2/2] formatting

---
 weblate/lang/models.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/weblate/lang/models.py b/weblate/lang/models.py
index 8cca051c89..492bfe6ffe 100644
--- a/weblate/lang/models.py
+++ b/weblate/lang/models.py
@@ -139,7 +139,7 @@ class LanguageQuerySet(models.QuerySet):
 
         # Remove some unwanted chars
         code = code.replace(' ', '').replace('(', '').replace(')', '')
-        
+
         # Strip leading and trailing .
         code = code.strip('.')
 
-- 
2.19.1

